<!-- sobit_pro_rtabmap.launch.xml -->
<launch>
  <!-- Start rtabmap_ros node -->
  <include file="$(find sobit_mapping)/launch/include/rtabmap.launch.xml" >
    <arg name="subscribe_scan"       value="true"/>
    <arg name="scan_topic"           value="/scan"/>
    <arg name="gen_scan"             value="true"/>
    
    <arg name="visual_odometry"      value="true"/>
    <arg name="icp_odometry"         value="true"/>
    <arg name="odom_topic"           value="/odom"/> 

    <arg name="reg_force3dof"        value="true"/>
    <arg name="reg_strategy"         value="1"/>
    <arg name="optimizer_slam2d"     value="true"/>

    <arg name="wait_for_transform"   value="0.05"/>

    <arg name="rtabmapviz"           value="true" /> 

    <arg name="min_depth"      value="0.3"/>
    <arg name="max_depth"      value="10.0"/>

    <arg name="rgb_topic"          value="/k4a/rgb_to_depth/image_rect" />
    <arg name="depth_topic"        value="/k4a/depth/image_rect" />
    <arg name="camera_info_topic"  value="/k4a/depth/camera_info" />
    <arg name="approx_sync"        value="true" />
    <arg name="frame_id"           value="base_footprint" />
    <arg name="args"               value="--delete_db_on_start" />
  </include>
</launch>


